@inject IGetProductByIdUseCase GetProductByIdUseCase
@inject ISellProductUseCase SellProductUseCase

@if (!string.IsNullOrWhiteSpace(errorMessage))
{
    <div class="alert alert-danger">@errorMessage</div>
}
@if (productToSell != null)
{
    <EditForm Model="productToSell" OnValidSubmit="SellProduct">
        <DataAnnotationsValidator />

        <div class="form-group">
            <label for="Name">Producto</label>
            <input type="text" id="Name" class="form-control" readonly value="@productToSell.Name" />
        </div>
        <div class="form-group">
            <label for="Price">Precio</label>
            <input type="text" id="Price" class="form-control" readonly value="@string.Format("${0}", productToSell.Price)" />
        </div>
        <div class="form-group">
            <label for="Quantity">Cantidad</label>
            <InputNumber type="text" id="Quantity" class="form-control" @bind-Value="@productToSell.Quantity" />
            <ValidationMessage For="() => productToSell.Quantity" />
        </div>
        <button type="submit" class="btn btn-primary">Vender</button>
    </EditForm>
}
